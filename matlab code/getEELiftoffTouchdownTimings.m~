%% getEELiftoffTouchdownTimings
tLiftoff, tTouchdown = getEELiftoffTouchdownTimings(foot_LF.force, foot_LH.force, foot_RF.force, foot_RH.force)

%% LF
j = 1;
k = 1;
% if force at time t is non zero and force at t+1 is zero, the foot
% lifted off 
for i=2:length(EE.LF.force(:,3))
    if(EE.LF.force(i-1,3) ~=0 ) && (EE.LF.force(i,3) == 0)
        tLiftoffLF(j) = t(i);
        j = j+1;
    end
    
    if(EE.LF.force(i-1,3) ==0 ) && (EE.LF.force(i,3) ~= 0)
        tTouchdownLF(k) = t(i);
        k = k+1;
    end
end


%% LH
j = 1;
k = 1;
for i=2:length(foot_LH.force(:,3))
    if(EE.LH..force(i-1,3) ~=0 ) && (EE.LH.force(i,3) == 0)
        tLiftoffLH(j) = t(i);
        j = j+1;
    end
    
    if(EE.LF.force(i-1,3) ==0 ) && (EE.LF.force(i,3) ~= 0)
        tTouchdownLH(k) = t(i);
        k = k+1;
    end
end

%% RF
j = 1;
k = 1;
for i=2:length(foot_RF.force(:,3))
    if(foot_RF.force(i-1,3) ~=0 ) && (foot_RF.force(i,3) == 0)
        t_liftoff_RF(j) = t(i);
        j = j+1;
    end
    
    if(foot_RF.force(i-1,3) ==0 ) && (foot_RF.force(i,3) ~= 0)
        t_touchdown_RF(k) = t(i);
        k = k+1;
    end
end

%% RH
j = 1;
k = 1;

for i=2:length(foot_RH.force(:,3))
    if(foot_RH.force(i-1,3) ~=0 ) && (foot_RH.force(i,3) == 0)
        t_liftoff_RH(j) = t(i);
        j = j+1;
    end
    
    if(foot_RH.force(i-1,3) ==0 ) && (foot_RH.force(i,3) ~= 0)
        t_touchdown_RH(k) = t(i);
        k = k+1;
    end
end

% sometimes some legs have fewer steps than others. Get rid of additional
% step data from other legs so that each leg has the same number of
% liftoffs and touchdowns
minStepCount = min([length(t_liftoff_LF), length(t_liftoff_LH), length(t_liftoff_RF),length( t_liftoff_RH)]);

% row order:    LF LH RF RH
t_liftoff = [t_liftoff_LF(1:minStepCount)' t_liftoff_LH(1:minStepCount)' t_liftoff_RF(1:minStepCount)' t_liftoff_RH(1:minStepCount)'];
t_touchdown = [t_touchdown_LF(1:minStepCount)' t_touchdown_LH(1:minStepCount)' t_touchdown_RF(1:minStepCount)' t_touchdown_RH(1:minStepCount)'];