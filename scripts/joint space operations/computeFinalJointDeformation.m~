function [springTorque, springDeformation] = computeFinalJointDeformation(kTorsionalSpring, qLiftoff, EE_force)

[~, ~, ~, ~, ~, r_H_04, r_H_05, r_H_0EE]  = jointToPosJac(hipAttachmentOffset, linkCount, rotBodyY, q, quadruped, EEselection, hipParalleltoBody);

    
R_EE = r_H_0EE;
if linkCount == 3
    R_finalJoint = r_H_04;
elseif linkCount == 4
    
R_EEfinalJoint = R_EE - R_finalJoint;

F_EE = Leg.(EEselection).force(i,1:3);
springTorque = cross(R_EEfinalJoint, F_EE);
springDeformation = kTorsionalSpring * springTorque(2); % spring torque about y joint
end